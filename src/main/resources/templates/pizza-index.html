<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}" />
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
		integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<title>pizza-index</title>
</head>

<body>

	<div class="bg-i container min-vh-100">
		<div class="gi-nav shadow fixed-top">
			<div class="container d-flex align-items-center justify-content-between">
				<div>
					<a th:href="@{/pizze}">
						<h1 class="text-danger text-center fw-bold">Pizze!</h1>

					</a>
				</div>
				<form class="d-flex w-50" action="/pizze/search" method="get">
					<input class="w-75 me-2 bg-light-subtle" type="text" name="nome"
						placeholder="cerca la tua pizza preferita">
					<button class="btn btn-danger fw-bold" type="submit">Cerca</button>
				</form>

				<div>
					<a th:href="@{/ingredienti}" class="btn btn-warning fw-bold shadow text-light">vai a ingredienti</a>

				</div>
			</div>
		</div>
		<div class="margin">


	<a class="btn btn-info text-light fw-bold" th:href="@{/login}">Sign in</a>
			<a class="btn btn-info text-light fw-bold" th:href="@{/logout}">Logout</a>

		</div>



		<div class="container d-flex align-items-center justify-content-center">
			<div class="card shadow position-relative">
				<table class="table table-light">
					<thead>
						<tr class="text-center">
							<th scope="col">Nome</th>
							<th scope="col">Prezzo</th>
							<th scope="col">Azioni</th>
						</tr>
					</thead>
					<tbody>
						<tr class="text-center" th:each="pizza : ${pizze}" th:object="${pizza}">
							<td>[[*{nome}]]</td>
							<td>[[*{prezzo}]]&euro;</td>
							<td class="d-flex align-items-center justify-content-center">
								<a class="btn btn-warning text-light mx-2" th:href="@{/pizze/{id}(id=*{id})}">
									<i class="fa-solid fa-eye"></i>
								</a>
								<a sec:authorize="hasAuthority('ADMIN')" class="btn btn-primary mx-2"
									th:href="@{/pizze/update/{id}(id=*{id})}">
									<i class="fa-solid fa-pencil"></i>
								</a>
								<form sec:authorize="hasAuthority('ADMIN')" th:action="@{/pizze/delete/{id}(id=*{id})}"
									method="POST">
									<input type="hidden" name="pizzaId" value="[[*{id}]]">
									<button class="btn btn-danger mx-2" type="submit"><i
											class="fa-solid fa-trash"></i></button>
								</form>
							</td>

						</tr>
					</tbody>
				</table>
				<div class="gi-crea">
					<a class="fw-bold btn btn-success text-white shadow" th:href="@{/pizze/offerta/create}">Proponi
						Offerta!
						<i class="fa-solid fa-money-bill"></i>
					</a>
					<a class="fw-bold btn btn-danger text-white shadow" th:href="@{/pizze/create}">Crea la tua pizza! <i
							class="fa-solid fa-pizza-slice"></i></a>
				</div>
			</div>
		</div>
	</div>
	<script th:src="@{/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js}"></script>
</body>

</html>